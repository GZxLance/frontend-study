<template>
  <el-menu mode="horizontal" :default-active="activeIndex" :key="$route.path" class="el-menu-demo">  
    <el-image
          src="https://wanglanhua.oss-cn-beijing.aliyuncs.com/chahua/buleman.png"
          fit="fill"
          style="width: auto; height: auto; object-fit: cover;"
        />  
    <el-menu-item index="/" @click="navigate('/')">首页<svg t="1729938298527" class="icon" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1604" width="25" height="25"><path d="M1002.55232 453.4016L572.54912 23.3984A77.4656 77.4656 0 0 0 517.55008 0.59904c-20.79744 0-40.19712 8.00256-54.99904 22.79936L32.55296 453.4016c-30.19776 30.40256-30.19776 79.60064 0 109.99808l10.79808 10.5984 104.80128 32.59904v309.00224c0 59.8016 48.59904 108.40064 108.40064 108.40064h205.59872v-203.40224a14.25408 14.25408 0 0 1 14.19776-14.19776h90.99776a14.25408 14.25408 0 0 1 14.19776 14.19776V1024h191.20128c59.8016 0 108.40064-48.59904 108.40064-108.40064v-308.59776l110.40256-32.79872 10.79808-10.79808c14.80192-14.60224 22.79936-34.2016 22.79936-54.99904 0.2048-20.80768-7.79776-40.20736-22.59456-55.00416z m-229.60128 507.19744h-127.80032v-139.8016c0-42.79808-34.80064-77.7984-77.7984-77.7984H476.35456c-42.79808 0-77.7984 34.80064-77.7984 77.7984v139.8016H256.35328c-24.80128 0-44.99968-20.1984-44.99968-44.8v-355.79904l-134.20032-41.79968a14.31552 14.31552 0 0 1 0.39936-19.79904L507.55072 68.4032a14.2336 14.2336 0 0 1 9.99936-4.1984c3.79904 0 7.3984 1.39776 9.99936 4.1984l429.99808 429.99808a14.2336 14.2336 0 0 1 4.1984 9.99936c0 3.59936-1.19808 6.99904-3.79904 9.6l-140.40064 41.6v355.99872c0.2048 24.80128-19.99872 44.99968-44.5952 44.99968z" fill="#0972E7" p-id="1605"></path><path d="M517.5296 463.36m-194.56 0a194.56 194.56 0 1 0 389.12 0 194.56 194.56 0 1 0-389.12 0Z" fill="#CAE4FF" p-id="1606"></path></svg></el-menu-item>
    <el-menu-item index="/profile" @click="navigate('/profile')">个人中心<svg t="1729938159081" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1093" width="25" height="25"><path d="M665.729808 153.544368V0h-102.733792v153.544368h-255.90728V0H204.725824v153.544368H0v153.544368h870.455632V153.544368h-204.725824zM0 358.270192h255.90728v255.90728H0zM562.996016 430.220934a205.096704 205.096704 0 0 0-51.181456 132.775082 170.604853 170.604853 0 0 0 5.192322 51.181456H307.088736v-255.90728h255.90728zM0 665.358928h255.90728v255.90728H0zM562.996016 696.141978a363.833394 363.833394 0 0 0-189.148859 225.49511h-66.758421v-256.27816h230.316552z" fill="#A6C5F6" p-id="1094"></path><path d="M562.996016 562.996016A153.915248 153.915248 0 1 0 716.911264 407.968127a153.915248 153.915248 0 0 0-153.915248 153.544368z" fill="#4E8CEE" p-id="1095"></path><path d="M716.911264 716.911264A308.201376 308.201376 0 0 0 407.968127 1024h616.031873a307.830496 307.830496 0 0 0-307.088736-307.088736z" fill="#4E8CEE" p-id="1096"></path></svg></el-menu-item>
    <el-menu-item index="/login" @click="navigate('/login')">登录<svg t="1729938278253" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1447" width="25" height="25"><path d="M396.8 153.6v38.4a115.2 115.2 0 0 0 230.4 0v-38.4h320a76.8 76.8 0 0 1 76.8 76.8v640a76.8 76.8 0 0 1-76.8 76.8H76.8a76.8 76.8 0 0 1-76.8-76.8V230.4a76.8 76.8 0 0 1 76.8-76.8h320z" fill="#1989FA" fill-opacity=".3" p-id="1448"></path><path d="M307.2 512m-102.4 0a102.4 102.4 0 1 0 204.8 0 102.4 102.4 0 1 0-204.8 0Z" fill="#1989FA" p-id="1449"></path><path d="M166.4 678.4m51.2 0l192 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-192 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z" fill="#1989FA" p-id="1450"></path><path d="M563.2 422.4m25.6 0l230.4 0q25.6 0 25.6 25.6l0 0q0 25.6-25.6 25.6l-230.4 0q-25.6 0-25.6-25.6l0 0q0-25.6 25.6-25.6Z" fill="#1989FA" p-id="1451"></path><path d="M563.2 563.2m25.6 0l230.4 0q25.6 0 25.6 25.6l0 0q0 25.6-25.6 25.6l-230.4 0q-25.6 0-25.6-25.6l0 0q0-25.6 25.6-25.6Z" fill="#1989FA" p-id="1452"></path><path d="M563.2 704m25.6 0l128 0q25.6 0 25.6 25.6l0 0q0 25.6-25.6 25.6l-128 0q-25.6 0-25.6-25.6l0 0q0-25.6 25.6-25.6Z" fill="#1989FA" p-id="1453"></path><path d="M460.8 64m51.2 0l0 0q51.2 0 51.2 51.2l0 76.8q0 51.2-51.2 51.2l0 0q-51.2 0-51.2-51.2l0-76.8q0-51.2 51.2-51.2Z" fill="#1989FA" p-id="1454"></path></svg></el-menu-item>
    <el-menu-item index="/register" @click="navigate('/register')">注册<svg t="1729938317699" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1760" width="25" height="25"><path d="M472.7296 269.6704m-218.5728 0a218.5728 218.5728 0 1 0 437.1456 0 218.5728 218.5728 0 1 0-437.1456 0Z" fill="#80B7F9" p-id="1761"></path><path d="M554.8544 506.6752H390.656c-176.5888 0-319.744 143.1552-319.744 319.744 0 63.0784 51.1488 114.176 114.176 114.176h575.2832c63.0784 0 114.176-51.1488 114.176-114.176 0-176.5888-143.104-319.744-319.6928-319.744z" fill="#80B7F9" p-id="1762"></path><path d="M747.52 771.072m-202.2912 0a202.2912 202.2912 0 1 0 404.5824 0 202.2912 202.2912 0 1 0-404.5824 0Z" fill="#95C9FC" p-id="1763"></path><path d="M744.2944 568.8832c-110.1824 1.7408-199.0144 91.5456-199.0144 202.1888 0 71.0144 36.608 133.4272 92.0064 169.5232h123.136c63.0784 0 114.176-51.1488 114.176-114.176-0.0512-105.6768-51.3024-199.3216-130.304-257.536z" fill="#3E8BF8" p-id="1764"></path><path d="M810.4448 730.112H788.48v-21.9136c0-22.6304-18.3296-40.96-40.96-40.96s-40.96 18.3296-40.96 40.96v21.9136h-21.9136c-22.6304 0-40.96 18.3296-40.96 40.96s18.3296 40.96 40.96 40.96H706.56v21.9136c0 22.6304 18.3296 40.96 40.96 40.96s40.96-18.3296 40.96-40.96v-21.9136h21.9136c22.6304 0 40.96-18.3296 40.96-40.96s-18.3296-40.96-40.9088-40.96z" fill="#FFFFFF" p-id="1765"></path></svg></el-menu-item>
    
  </el-menu>
  <p>📝求知若渴，探索未知 ——知识即为力量。</p>
</template>

<script setup lang="ts">
import { useRouter } from 'vue-router';
import { ref } from 'vue';
import { ElMenu, ElMenuItem } from 'element-plus';
import { watch } from 'vue';
import { useRoute } from 'vue-router';

const router = useRouter();
const activeIndex = ref(router.currentRoute.value.path);

const navigate = (path: string) => {
  router.push(path);
  activeIndex.value = path;
};

const route = useRoute();

watch(() => route.path, (newPath) => {
  activeIndex.value = newPath;
});
</script>

<style scoped>
svg {
  margin-left: 5px;
}
p {
  margin-left: 40%;
  color: #40b4ff;
}
</style>